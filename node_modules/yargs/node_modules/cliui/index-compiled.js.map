{"version":3,"sources":["/Users/ashar61/work/projects/drop-box/node_modules/yargs/node_modules/cliui/index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["var wrap = require('wordwrap'),\n  align = {\n    right: require('right-align'),\n    center: require('center-align')\n  },\n  top = 0,\n  right = 1,\n  bottom = 2,\n  left = 3\n\nfunction UI (opts) {\n  this.width = opts.width\n  this.wrap = opts.wrap\n  this.rows = []\n}\n\nUI.prototype.span = function () {\n  var cols = this.div.apply(this, arguments)\n  cols.span = true\n}\n\nUI.prototype.div = function () {\n  if (arguments.length === 0) this.div('')\n  if (this.wrap && this._shouldApplyLayoutDSL.apply(this, arguments)) {\n    return this._applyLayoutDSL(arguments[0])\n  }\n\n  var cols = []\n\n  for (var i = 0, arg; (arg = arguments[i]) !== undefined; i++) {\n    if (typeof arg === 'string') cols.push(this._colFromString(arg))\n    else cols.push(arg)\n  }\n\n  this.rows.push(cols)\n  return cols\n}\n\nUI.prototype._shouldApplyLayoutDSL = function () {\n  return arguments.length === 1 && typeof arguments[0] === 'string' &&\n    /[\\t\\n]/.test(arguments[0])\n}\n\nUI.prototype._applyLayoutDSL = function (str) {\n  var _this = this,\n    rows = str.split('\\n'),\n    leftColumnWidth = 0\n\n  // simple heuristic for layout, make sure the\n  // second column lines up along the left-hand.\n  // don't allow the first column to take up more\n  // than 50% of the screen.\n  rows.forEach(function (row) {\n    var columns = row.split('\\t')\n    if (columns.length > 1 && columns[0].length > leftColumnWidth) {\n      leftColumnWidth = Math.min(\n        Math.floor(_this.width * 0.5),\n        columns[0].length\n      )\n    }\n  })\n\n  // generate a table:\n  //  replacing ' ' with padding calculations.\n  //  using the algorithmically generated width.\n  rows.forEach(function (row) {\n    var columns = row.split('\\t')\n    _this.div.apply(_this, columns.map(function (r, i) {\n      return {\n        text: r.trim(),\n        padding: [0, r.match(/\\s*$/)[0].length, 0, r.match(/^\\s*/)[0].length],\n        width: (i === 0 && columns.length > 1) ? leftColumnWidth : undefined\n      }\n    }))\n  })\n\n  return this.rows[this.rows.length - 1]\n}\n\nUI.prototype._colFromString = function (str) {\n  return {\n    text: str\n  }\n}\n\nUI.prototype.toString = function () {\n  var _this = this,\n    lines = []\n\n  _this.rows.forEach(function (row, i) {\n    _this.rowToString(row, lines)\n  })\n\n  // don't display any lines with the\n  // hidden flag set.\n  lines = lines.filter(function (line) {\n    return !line.hidden\n  })\n\n  return lines.map(function (line) {\n    return line.text\n  }).join('\\n')\n}\n\nUI.prototype.rowToString = function (row, lines) {\n  var _this = this,\n    paddingLeft,\n    rrows = this._rasterize(row),\n    str = '',\n    ts,\n    width,\n    wrapWidth\n\n  rrows.forEach(function (rrow, r) {\n    str = ''\n    rrow.forEach(function (col, c) {\n      ts = '' // temporary string used during alignment/padding.\n      width = row[c].width // the width with padding.\n      wrapWidth = _this._negatePadding(row[c]) // the width without padding.\n\n      for (var i = 0; i < Math.max(wrapWidth, col.length); i++) {\n        ts += col.charAt(i) || ' '\n      }\n\n      // align the string within its column.\n      if (row[c].align && row[c].align !== 'left' && _this.wrap) {\n        ts = align[row[c].align](ts.trim() + '\\n' + new Array(wrapWidth + 1).join(' '))\n          .split('\\n')[0]\n        if (ts.length < wrapWidth) ts += new Array(width - ts.length).join(' ')\n      }\n\n      // add left/right padding and print string.\n      paddingLeft = (row[c].padding || [0, 0, 0, 0])[left]\n      if (paddingLeft) str += new Array(row[c].padding[left] + 1).join(' ')\n      str += ts\n      if (row[c].padding && row[c].padding[right]) str += new Array(row[c].padding[right] + 1).join(' ')\n\n      // if prior row is span, try to render the\n      // current row on the prior line.\n      if (r === 0 && lines.length > 0) {\n        str = _this._renderInline(str, lines[lines.length - 1], paddingLeft)\n      }\n    })\n\n    // remove trailing whitespace.\n    lines.push({\n      text: str.replace(/ +$/, ''),\n      span: row.span\n    })\n  })\n\n  return lines\n}\n\n// if the full 'source' can render in\n// the target line, do so.\nUI.prototype._renderInline = function (source, previousLine, paddingLeft) {\n  var target = previousLine.text,\n    str = ''\n\n  if (!previousLine.span) return source\n\n  // if we're not applying wrapping logic,\n  // just always append to the span.\n  if (!this.wrap) {\n    previousLine.hidden = true\n    return target + source\n  }\n\n  for (var i = 0, tc, sc; i < Math.max(source.length, target.length); i++) {\n    tc = target.charAt(i) || ' '\n    sc = source.charAt(i) || ' '\n    // we tried to overwrite a character in the other string.\n    if (tc !== ' ' && sc !== ' ') return source\n    // there is not enough whitespace to maintain padding.\n    if (sc !== ' ' && i < paddingLeft + target.length) return source\n    // :thumbsup:\n    if (tc === ' ') str += sc\n    else str += tc\n  }\n\n  previousLine.hidden = true\n\n  return str\n}\n\nUI.prototype._rasterize = function (row) {\n  var _this = this,\n    i,\n    rrow,\n    rrows = [],\n    widths = this._columnWidths(row),\n    wrapped\n\n  // word wrap all columns, and create\n  // a data-structure that is easy to rasterize.\n  row.forEach(function (col, c) {\n    // leave room for left and right padding.\n    col.width = widths[c]\n    if (_this.wrap) wrapped = wrap.hard(_this._negatePadding(col))(col.text).split('\\n')\n    else wrapped = col.text.split('\\n')\n\n    // add top and bottom padding.\n    if (col.padding) {\n      for (i = 0; i < (col.padding[top] || 0); i++) wrapped.unshift('')\n      for (i = 0; i < (col.padding[bottom] || 0); i++) wrapped.push('')\n    }\n\n    wrapped.forEach(function (str, r) {\n      if (!rrows[r]) rrows.push([])\n\n      rrow = rrows[r]\n\n      for (var i = 0; i < c; i++) {\n        if (rrow[i] === undefined) rrow.push('')\n      }\n      rrow.push(str)\n    })\n  })\n\n  return rrows\n}\n\nUI.prototype._negatePadding = function (col) {\n  var wrapWidth = col.width\n  if (col.padding) wrapWidth -= (col.padding[left] || 0) + (col.padding[right] || 0)\n  return wrapWidth\n}\n\nUI.prototype._columnWidths = function (row) {\n  var _this = this,\n    widths = [],\n    unset = row.length,\n    unsetWidth,\n    remainingWidth = this.width\n\n  // column widths can be set in config.\n  row.forEach(function (col, i) {\n    if (col.width) {\n      unset--\n      widths[i] = col.width\n      remainingWidth -= col.width\n    } else {\n      widths[i] = undefined\n    }\n  })\n\n  // any unset widths should be calculated.\n  if (unset) unsetWidth = Math.floor(remainingWidth / unset)\n  widths.forEach(function (w, i) {\n    if (!_this.wrap) widths[i] = row[i].width || row[i].text.length\n    else if (w === undefined) widths[i] = Math.max(unsetWidth, _minWidth(row[i]))\n  })\n\n  return widths\n}\n\n// calculates the minimum width of\n// a column, based on padding preferences.\nfunction _minWidth (col) {\n  var padding = col.padding || []\n\n  return 1 + (padding[left] || 0) + (padding[right] || 0)\n}\n\nmodule.exports = function (opts) {\n  opts = opts || {}\n\n  return new UI({\n    width: (opts || {}).width || 80,\n    wrap: typeof opts.wrap === 'boolean' ? opts.wrap : true\n  })\n}\n"]}